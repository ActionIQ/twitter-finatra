<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Feature Tests &#8212; Finatra 18.9.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '18.9.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Finatra 18.9.1 documentation" href="../../index.html" />
    <link rel="up" title="User’s Guide" href="../index.html" />
    <link rel="next" title="Integration Tests" href="integration_tests.html" />
    <link rel="prev" title="Embedded Servers and Apps" href="embedded.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="../../_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39101739-4', 'twitter.github.io');
    ga('send', 'pageview');

  </script>

  </head>
  <body role="document">
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="integration_tests.html" title="Integration Tests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="embedded.html" title="Embedded Servers and Apps"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Finatra</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">User&#8217;s Guide</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="feature-tests">
<span id="id1"></span><h1>Feature Tests<a class="headerlink" href="#feature-tests" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are calling an <a class="reference external" href="https://github.com/twitter/util/blob/54f314d1f4b37d302f685e99b1ac416e48532a04/util-core/src/main/scala/com/twitter/util/Awaitable.scala#L77"><cite>c.t.util.Await</cite></a> function on a <a class="reference external" href="https://github.com/twitter/util/blob/develop/util-core/src/main/scala/com/twitter/util/Future.scala"><cite>c.t.util.Future</cite></a> return type in a
test, it is generally considered good practice to ensure that your <a class="reference external" href="https://github.com/twitter/util/blob/54f314d1f4b37d302f685e99b1ac416e48532a04/util-core/src/main/scala/com/twitter/util/Awaitable.scala#L77"><cite>c.t.util.Await</cite></a> call
includes a timeout duration, e.g., <a class="reference external" href="https://github.com/twitter/util/blob/54f314d1f4b37d302f685e99b1ac416e48532a04/util-core/src/main/scala/com/twitter/util/Awaitable.scala#L127"><cite>c.t.util.Await#ready</cite></a>.</p>
</div>
<p>If you are familiar with <a class="reference external" href="http://docs.behat.org/en/v2.5/guides/1.gherkin.html">Gherkin</a> or
<a class="reference external" href="https://github.com/cucumber/cucumber/wiki/Feature-Introduction">Cucumber</a> or other similar
testing languages and frameworks, then <a class="reference external" href="https://wiki.documentfoundation.org/QA/Testing/Feature_Tests">feature testing</a>
will feel somewhat familiar. In Finatra, a feature test always consists of an application or a server
under test. See the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTest.scala&gt;"><cite>c.t.inject.server.FeatureTest</cite></a> trait.</p>
<p>We highly recommend writing feature tests for your services as they provide a very good signal of
whether you have correctly implemented the features of your service. If you haven&#8217;t implemented the
feature correctly, it almost doesn&#8217;t matter that you have lots of unit tests.</p>
<div class="section" id="http-server">
<h2>HTTP Server<a class="headerlink" href="#http-server" title="Permalink to this headline">¶</a></h2>
<p>For example, to write a feature test for an HTTP server, extend the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTest.scala&gt;"><cite>c.t.inject.server.FeatureTest</cite></a>
trait. Then override the <cite>server</cite> definition with an instance of your <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/http/src/test/scala/com/twitter/finatra/http/EmbeddedHttpServer.scala"><cite>EmbeddedHttpServer</cite></a>.</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>import com.twitter.finatra.http.EmbeddedHttpServer
import com.twitter.finagle.http.Status
import com.twitter.inject.server.FeatureTest

class ExampleServerFeatureTest extends FeatureTest {
  override val server = new EmbeddedHttpServer(new ExampleServer)

  test(&quot;ExampleServer#perform feature&quot;) {
    server.httpGet(
      path = &quot;/&quot;,
      andExpect = Status.Ok)

    ???
  }
}
</pre></div>
</div>
</div>
<div class="section" id="thrift-server">
<h2>Thrift Server<a class="headerlink" href="#thrift-server" title="Permalink to this headline">¶</a></h2>
<p>Similarly, to write a feature test for a Thrift server and create a <a class="reference external" href="https://twitter.github.io/finagle/">Finagle</a>
<a class="reference external" href="#thrift-tests">client</a> to it, extend the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTest.scala&gt;"><cite>c.t.inject.server.FeatureTest</cite></a> trait, override the
<cite>server</cite> definition with an instance of your <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/thrift/src/test/scala/com/twitter/finatra/thrift/EmbeddedThriftServer.scala"><cite>EmbeddedThriftServer</cite></a>, and then create a Thrift client
from the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/thrift/src/test/scala/com/twitter/finatra/thrift/EmbeddedThriftServer.scala"><cite>EmbeddedThriftServer</cite></a>.</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>import com.example.thriftscala.ExampleThrift
import com.twitter.conversions.time._
import com.twitter.finatra.thrift.EmbeddedThriftServer
import com.twitter.inject.server.FeatureTest
import com.twitter.util.Await

class ExampleThriftServerFeatureTest extends FeatureTest {
  override val server = new EmbeddedThriftServer(new ExampleThriftServer)

  lazy val client: ExampleThrift[Future] =
    server.thriftClient[ExampleThrift[Future]](clientId = &quot;client123&quot;)

  test(&quot;ExampleThriftServer#return data accordingly&quot;) {
    Await.result(client.doExample(&quot;input&quot;), 2.seconds) should equal(&quot;output&quot;)
  }
}
</pre></div>
</div>
<div class="section" id="thrift-client-interface-types">
<h3>Thrift Client Interface Types<a class="headerlink" href="#thrift-client-interface-types" title="Permalink to this headline">¶</a></h3>
<p>As mentioned in the Scrooge <a class="reference external" href="https://twitter.github.io/scrooge/Finagle.html">Finagle Integration</a>
documentation, users have three API choices for building an interface to a Finagle Thrift client —
<code class="docutils literal"><span class="pre">ServicePerEndpoint</span></code>, <code class="docutils literal"><span class="pre">ReqRepServicePerEndpoint</span></code>, and <code class="docutils literal"><span class="pre">MethodPerEndpoint</span></code>. This is true even
when creating a test Thrift client to a Thrift server.</p>
<p>In the example above, we create a Thrift client in the form of the higher-kinded type interface,
e.g., <cite>MyService[+MM[_]]</cite>. We could choose to create a <cite>ExampleThrift.MethodPerEndpoint</cite>
interface instead by changing the type parameter given to the <a class="reference external" href="https://github.com/twitter/finatra/blob/72664be4439da4425dfe63fa325f4c1ebbc5bf4b/thrift/src/test/scala/com/twitter/finatra/thrift/ThriftClient.scala#L77"><cite>c.t.finatra.thrift.ThriftClient#thriftClient[T]</cite></a>
method:</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>lazy val client: ExampleThrift.MethodPerEndpoint =
  server.thriftClient[ExampleThrift.MethodPerEndpoint](clientId = &quot;client123&quot;)
</pre></div>
</div>
<p>Users can also choose to create a <cite>service-per-endpoint</cite> Thrift client interface by calling the
<a class="reference external" href="https://github.com/twitter/finatra/blob/72664be4439da4425dfe63fa325f4c1ebbc5bf4b/thrift/src/test/scala/com/twitter/finatra/thrift/ThriftClient.scala#L103"><cite>c.t.finatra.thrift.ThriftClient#servicePerEndpoint[T]</cite></a> with either the <code class="docutils literal"><span class="pre">ServicePerEndpoint</span></code> or
<code class="docutils literal"><span class="pre">ReqRepServicePerEndpoint</span></code> type. E.g.,</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>lazy val client: ExampleThrift.ServicePerEndpoint =
  server.servicePerEndpoint[ExampleThrift.ServicePerEndpoint](clientId = &quot;client123&quot;)
</pre></div>
</div>
<p>or</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>lazy val client: ExampleThrift.ReqRepServicePerEndpoint =
  server.servicePerEndpoint[ExampleThrift.ReqRepServicePerEndpoint](clientId = &quot;client123&quot;)
</pre></div>
</div>
<p>Lastly, the Thrift client can also be expressed as a <code class="docutils literal"><span class="pre">MethodPerEndpoint</span></code> wrapping a
<cite>service-per-endpoint</cite> type by using <a class="reference external" href="https://github.com/twitter/finatra/blob/72664be4439da4425dfe63fa325f4c1ebbc5bf4b/thrift/src/test/scala/com/twitter/finatra/thrift/ThriftClient.scala#L134"><cite>c.t.finatra.thrift.ThriftClient#methodPerEndpoint[T, U]</cite></a>.
This would allow for applying a set of filters on the Thrift client interface before interacting
with the Thrift client as a <code class="docutils literal"><span class="pre">MethodPerEndpoint</span></code> interface.</p>
<p>For example:</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>lazy val servicePerEndpoint: ExampleThrift.ServicePerEndpoint =
  server
    .servicePerEndpoint[ExampleThrift.ServicePerEndpoint](clientId = &quot;client123&quot;)
    .filtered(???)

lazy val client: ExampleThrift.MethodPerEndpoint =
  server.methodPerEndpoint[
    ExampleThrift.ServicePerEndpoint,
    ExampleThrift.MethodPerEndpoint](servicePerEndpoint)
</pre></div>
</div>
<p>See the <a class="reference external" href="../thrift/clients.html">Communicate with a Thrift Service</a> section for more information
on Thrift clients.</p>
</div>
<div class="section" id="closing-the-test-client-interface">
<h3>Closing the Test Client Interface<a class="headerlink" href="#closing-the-test-client-interface" title="Permalink to this headline">¶</a></h3>
<p>It is considered a best practice to close any created test Thrift client interface to ensure that any
opened resources are closed.</p>
<p>For instance, if you are instantiating a single Thrift client interface for all of your tests, you
could close the client in the ScalaTest <cite>afterAll</cite> lifecycle block. E.g.,</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>import com.example.thriftscala.ExampleThrift
import com.twitter.conversions.time._
import com.twitter.finatra.thrift.EmbeddedThriftServer
import com.twitter.inject.server.FeatureTest
import com.twitter.util.Await

class ExampleThriftServerFeatureTest extends FeatureTest {
  override val server = new EmbeddedThriftServer(new ExampleThriftServer)

  lazy val client: ExampleThrift.ServicePerEndpoint =
    server.servicePerEndpoint[ExampleThrift.ServicePerEndpoint](clientId = &quot;client123&quot;)

  ...

  override protected def afterAll(): Unit = {
    Await.result(client.asClosable.close(), 2.seconds)
    super.afterAll()
  }
</pre></div>
</div>
<p>Note that the above example sets a <cite>timeout</cite> of <cite>2.seconds</cite> on awaiting the close of the test Thrift
client interface. You can and should adjust this value &#8211; either up or down &#8211; as appropriate for
your testing.</p>
</div>
</div>
<div class="section" id="combined-http-thrift-server">
<h2>Combined HTTP &amp; Thrift Server<a class="headerlink" href="#combined-http-thrift-server" title="Permalink to this headline">¶</a></h2>
<p>If you are extending both <cite>c.t.finatra.http.HttpServer</cite> <strong>and</strong> <cite>c.t.finatra.thrift.ThriftServer</cite>
then you can feature test by constructing an <cite>EmbeddedHttpServer with ThriftClient</cite>, e.g.,</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>import com.example.thriftscala.ExampleThrift
import com.twitter.conversions.time._
import com.twitter.finatra.http.EmbeddedHttpServer
import com.twitter.finatra.thrift.ThriftClient
import com.twitter.inject.server.FeatureTest

class ExampleCombinedServerFeatureTest extends FeatureTest {
  override val server =
    new EmbeddedHttpServer(new ExampleCombinedServer) with ThriftClient

  lazy val client: ExampleThrift[Future] =
    server.thriftClient[ExampleThrift[Future]](clientId = &quot;client123&quot;)

  &quot;ExampleCombinedServer#perform feature&quot;) {
      server.httpGet(
        path = &quot;/&quot;,
        andExpect = Status.Ok)
        ...
    }

   &quot;ExampleCombinedServer#return data accordingly&quot;) {
      Await.result(client.doExample(&quot;input&quot;), 2.seconds) should equal(&quot;output&quot;)
    }
  }
}
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p>The <cite>server</cite> is specified as a <cite>def</cite> in the <a class="reference external" href="https://github.com/twitter/finatra/blob/c6e4716f082c0c8790d06d9e1664aacbd0c3fede/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTestMixin.scala#L24"><cite>c.t.inject.server.FeatureTestMixin</cite></a> trait.</p>
<p class="last">If you only want to start <strong>one instance</strong> of your server per test file make sure to override this
<cite>def</cite> with a <cite>val</cite>.</p>
</div>
</div>
<div class="section" id="sharing-a-server-fixture-between-many-feature-tests">
<h2>Sharing a Server Fixture Between Many Feature Tests<a class="headerlink" href="#sharing-a-server-fixture-between-many-feature-tests" title="Permalink to this headline">¶</a></h2>
<p>There may be times in testing where you want to share an embedded server configuration among
different feature tests. That is, you want to be able to create and setup the embedded server in the
same way (perhaps with minor configuration changes) across many different test files. An idea might
be to define a &#8220;base&#8221; test trait which extends <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTest.scala&gt;"><cite>c.t.inject.server.FeatureTest</cite></a> that your tests
can extend.</p>
<p>Creating a &#8220;base&#8221; trait that defines shared state is a fine strategy. However, when doing so it
is generally considered a best practice to not share an instance of an embedded server. That is,
issues can arise when this &#8220;base&#8221; trait overrides and implements the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-server/src/test/scala/com/twitter/inject/server/FeatureTest.scala&gt;"><cite>c.t.inject.server.FeatureTest</cite></a>
trait <code class="docutils literal"><span class="pre">def</span> <span class="pre">server</span></code>.</p>
<p>Thus, we recommend <em>always</em> implementing the abstract <code class="docutils literal"><span class="pre">def</span> <span class="pre">server</span></code> in each actual feature test
implementation.</p>
<p>This does not mean that you cannot share a configured embedded server fixture. To do so effectively
and efficiently, have the &#8220;base&#8221; trait simply define a utility method which allows a feature test
to obtain an instance of an embedded server fixture which it can then set as <em>its</em> embedded server
for testing.</p>
<p>For example, we could define a &#8220;base&#8221; testing trait:</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>import com.twitter.inject.server.FeatureTest
import com.twitter.finatra.http.EmbeddedHttpServer

trait BaseMyServiceFeatureTest extends FeatureTest {
  protected val bar = new Foo()
  protected val bazImpl = new BazImpl()

  // Note, this merely provides a way for extensions of this trait to
  // get a commonly configurable EmbeddedHttpServer. Or it could define
  // an non-configurable version to ensure every test can use a similarly
  // configured server.
  protected def buildExampleServiceTestServer(
    name: String,
    flags: =&gt; Map[String, String] = Map()
  ): EmbeddedHttpServer =
    new EmbeddedHttpServer(new ExampleHttpServer {
      override val name = name
      override val overrideModules = Seq(???)
    },
    flags = flags
  ).bind[Foo](bar)
   .bind[Baz](bazImpl)
}
</pre></div>
</div>
<p>This &#8220;base&#8221; trait can define a method for obtaining a properly configured Embedded server for test
implementations to use. Then in tests we could do:</p>
<div class="code scala highlight-text"><div class="highlight"><pre><span></span>class MyServiceFirstFeatureTest extends BaseMyServiceFeatureTest {
  // We override and implement the c.t.inject.server.FeatureTest#server in our actual test file
  override val server = buildExampleServiceTestServer(
    &quot;firstFeatureServer&quot;,
    Map(&quot;aaa.baz&quot; -&gt; &quot;forty-two&quot;))

  test(&quot;Feature 1 should do X&quot;) {
    ???
  }
}

...

class MyServiceOtherFeatureTest extends BaseMyServiceFeatureTest {
  override val server = buildExampleServiceTestServer(
    &quot;secondFeatureServer&quot;
    Map(&quot;aaa.baz&quot; -&gt; &quot;thirty-five&quot;))
  )

  test(&quot;Feature 2 should do Y&quot;) {
      ???
  }
}
</pre></div>
</div>
<p>The reasons behind this are several. Primarily, many servers under test end up being composed of
singletons (in addition to the framework defining singletons for configuration and startup). When
this is the case, you can run into issues with inconsistent state of a shared embedded server
fixture due to multiple tests accessing it potentially in parallel. Semantics change depending on
your build system and testing framework. But it is generally a good practice to not share a single
instance of an embedded server.</p>
<p>Secondly, when the server is defined as a <cite>val</cite> in a trait from which many tests inherit, the same
server can end up being started multiple times, even if you are running a single test. Some build
systems optimize their test runs by first loading all tests before running a single test file or
test case. In these instances all tests will be instantiated and thus any constructor <cite>val</cite> is
eagerly loaded. This could therefore start the embedded server <cite>val</cite> in each test inheriting from
the &#8220;base&#8221; trait and can generally lead to undesirable performance when testing.</p>
</div>
<div class="section" id="examples">
<h2>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>the
<a class="reference external" href="https://github.com/twitter/finatra/blob/develop/http/src/test/scala/com/twitter/finatra/http/tests/integration/doeverything/test/DoEverythingServerFeatureTest.scala">DoEverythingServerFeatureTest</a>
for an HTTP server.</li>
<li>the
<a class="reference external" href="https://github.com/twitter/finatra/blob/develop/thrift/src/test/scala/com/twitter/finatra/thrift/tests/DoEverythingThriftServerFeatureTest.scala">DoEverythingThriftServerFeatureTest</a>
for a Thrift server.</li>
<li>the
<a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject-thrift-client-http-mapper/src/test/scala/com/twitter/finatra/multiserver/test/DoEverythingCombinedServerFeatureTest.scala">DoEverythingCombinedServerFeatureTest</a>
for &#8220;combined&#8221; HTTP and Thrift server.</li>
</ul>
</div>
<div class="section" id="more-information">
<h2>More Information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="index.html"><span class="doc">Testing Features</span></a></li>
<li><a class="reference internal" href="embedded.html"><span class="doc">Embedded Servers and Apps</span></a></li>
<li><a class="reference internal" href="integration_tests.html"><span class="doc">Integration Tests</span></a></li>
<li><a class="reference internal" href="startup_tests.html"><span class="doc">Startup Tests</span></a></li>
<li><a class="reference internal" href="mixins.html"><span class="doc">Test Mixins</span></a></li>
<li><a class="reference internal" href="mocks.html"><span class="doc">Working with Mocks</span></a></li>
<li><a class="reference internal" href="override_modules.html"><span class="doc">Override Modules</span></a></li>
<li><a class="reference internal" href="bind_dsl.html"><span class="doc">Explicit Binding with #bind[T]</span></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/finatra_logo.png" alt="Logo"/>
            </a></p><p>
  <a href="https://github.com/twitter/finatra">Finatra</a> is a Scala services framework built on top of <a href="https://twitter.github.io/twitter-server/">TwitterServer</a> and <a href="https://twitter.github.io/finagle/">Finagle</a>.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://twitter.github.io/finatra/user-guide">User's&nbsp;Guide</a></li>
  <li><a href="https://finagle.github.io/blog/">Finagle&nbsp;Blog</a></li>
  <li><a href="https://github.com/twitter/finatra">Finatra&nbsp;on&nbsp;Github</a></li>
  <li><a href="https://github.com/twitter/finatra/issues">Github&nbsp;Issues</a></li>
</ul>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Feature Tests</a><ul>
<li><a class="reference internal" href="#http-server">HTTP Server</a></li>
<li><a class="reference internal" href="#thrift-server">Thrift Server</a><ul>
<li><a class="reference internal" href="#thrift-client-interface-types">Thrift Client Interface Types</a></li>
<li><a class="reference internal" href="#closing-the-test-client-interface">Closing the Test Client Interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#combined-http-thrift-server">Combined HTTP &amp; Thrift Server</a></li>
<li><a class="reference internal" href="#sharing-a-server-fixture-between-many-feature-tests">Sharing a Server Fixture Between Many Feature Tests</a></li>
<li><a class="reference internal" href="#examples">Examples:</a></li>
<li><a class="reference internal" href="#more-information">More Information</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">User&#8217;s Guide</a><ul>
      <li>Previous: <a href="embedded.html" title="previous chapter">Embedded Servers and Apps</a></li>
      <li>Next: <a href="integration_tests.html" title="next chapter">Integration Tests</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="github-fork-ribbon-wrapper right fixed" style="width: 150px;height: 150px;position: fixed;overflow: hidden;top: 0;z-index: 9999;pointer-events: none;right: 0;"><div class="github-fork-ribbon" style="position: absolute;padding: 2px 0;background-color: #900;background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);-moz-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);z-index: 9999;pointer-events: auto;top: 42px;right: -43px;-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);"><a target="_blank" href="https://github.com/twitter/finatra" style="font: 700 13px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color: #fff;text-decoration: none;text-shadow: 0 -1px rgba(0, 0, 0, 0.5);text-align: center;width: 200px;line-height: 20px;display: inline-block;padding: 2px 0;border-width: 1px 0;border-style: dotted;border-color: rgba(255, 255, 255, 0.7);">Fork me on GitHub</a></div></div>
  

  <div class="footer">
    &copy; Copyright 2013-2018 Twitter, Inc.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</div>
  
  </body>
</html>